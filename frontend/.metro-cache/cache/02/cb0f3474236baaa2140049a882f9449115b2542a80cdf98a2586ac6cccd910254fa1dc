{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"]}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":26,"index":195}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuthStore = void 0;\n  var _env2 = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _middleware = require(_dependencyMap[3], \"zustand/middleware\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[4], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[5], \"axios\"));\n  // Configuration simple du stockage\n  const zustandStorage = (0, _middleware.createJSONStorage)(() => _asyncStorage.default);\n  const BACKEND_URL = _env2.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const useAuthStore = exports.useAuthStore = (0, _zustand.create)()((0, _middleware.persist)((set, get) => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    login: async (username, password) => {\n      try {\n        const response = await _axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          user,\n          token\n        } = response.data;\n        set({\n          user,\n          token,\n          isAuthenticated: true\n        });\n\n        // Set default axios headers\n        _axios.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    },\n    logout: () => {\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n      delete _axios.default.defaults.headers.common['Authorization'];\n    },\n    updateUser: user => {\n      set({\n        user\n      });\n    }\n  }), {\n    name: 'auth-storage',\n    storage: zustandStorage\n  }));\n});","lineCount":59,"map":[[8,2,1,0],[8,6,1,0,"_zustand"],[8,14,1,0],[8,17,1,0,"require"],[8,24,1,0],[8,25,1,0,"_dependencyMap"],[8,39,1,0],[9,2,2,0],[9,6,2,0,"_middleware"],[9,17,2,0],[9,20,2,0,"require"],[9,27,2,0],[9,28,2,0,"_dependencyMap"],[9,42,2,0],[10,2,3,0],[10,6,3,0,"_asyncStorage"],[10,19,3,0],[10,22,3,0,"_interopRequireDefault"],[10,44,3,0],[10,45,3,0,"require"],[10,52,3,0],[10,53,3,0,"_dependencyMap"],[10,67,3,0],[11,2,4,0],[11,6,4,0,"_axios"],[11,12,4,0],[11,15,4,0,"_interopRequireDefault"],[11,37,4,0],[11,38,4,0,"require"],[11,45,4,0],[11,46,4,0,"_dependencyMap"],[11,60,4,0],[12,2,6,0],[13,2,7,0],[13,8,7,6,"zustandStorage"],[13,22,7,20],[13,25,7,23],[13,29,7,23,"createJSONStorage"],[13,58,7,40],[13,60,7,41],[13,66,7,47,"AsyncStorage"],[13,87,7,59],[13,88,7,60],[14,2,34,0],[14,8,34,6,"BACKEND_URL"],[14,19,34,17],[14,22,34,20,"_env2"],[14,27,34,20],[14,28,34,20,"env"],[14,31,34,20],[14,32,34,20,"EXPO_PUBLIC_BACKEND_URL"],[14,55,34,20],[14,59,34,59],[14,61,34,61],[15,2,36,7],[15,8,36,13,"useAuthStore"],[15,20,36,25],[15,23,36,25,"exports"],[15,30,36,25],[15,31,36,25,"useAuthStore"],[15,43,36,25],[15,46,36,28],[15,50,36,28,"create"],[15,65,36,34],[15,67,36,46],[15,68,36,47],[15,69,37,2],[15,73,37,2,"persist"],[15,92,37,9],[15,94,38,4],[15,95,38,5,"set"],[15,98,38,8],[15,100,38,10,"get"],[15,103,38,13],[15,109,38,19],[16,4,39,6,"user"],[16,8,39,10],[16,10,39,12],[16,14,39,16],[17,4,40,6,"token"],[17,9,40,11],[17,11,40,13],[17,15,40,17],[18,4,41,6,"isAuthenticated"],[18,19,41,21],[18,21,41,23],[18,26,41,28],[19,4,43,6,"login"],[19,9,43,11],[19,11,43,13],[19,17,43,13,"login"],[19,18,43,20,"username"],[19,26,43,36],[19,28,43,38,"password"],[19,36,43,54],[19,41,43,59],[20,6,44,8],[20,10,44,12],[21,8,45,10],[21,14,45,16,"response"],[21,22,45,24],[21,25,45,27],[21,31,45,33,"axios"],[21,45,45,38],[21,46,45,39,"post"],[21,50,45,43],[21,51,45,44],[21,54,45,47,"BACKEND_URL"],[21,65,45,58],[21,82,45,75],[21,84,45,77],[22,10,46,12,"username"],[22,18,46,20],[23,10,47,12,"password"],[24,8,48,10],[24,9,48,11],[24,10,48,12],[25,8,50,10],[25,14,50,16],[26,10,50,18,"user"],[26,14,50,22],[27,10,50,24,"token"],[28,8,50,30],[28,9,50,31],[28,12,50,34,"response"],[28,20,50,42],[28,21,50,43,"data"],[28,25,50,47],[29,8,52,10,"set"],[29,11,52,13],[29,12,52,14],[30,10,53,12,"user"],[30,14,53,16],[31,10,54,12,"token"],[31,15,54,17],[32,10,55,12,"isAuthenticated"],[32,25,55,27],[32,27,55,29],[33,8,56,10],[33,9,56,11],[33,10,56,12],[35,8,58,10],[36,8,59,10,"axios"],[36,22,59,15],[36,23,59,16,"defaults"],[36,31,59,24],[36,32,59,25,"headers"],[36,39,59,32],[36,40,59,33,"common"],[36,46,59,39],[36,47,59,40],[36,62,59,55],[36,63,59,56],[36,66,59,59],[36,76,59,69,"token"],[36,81,59,74],[36,83,59,76],[37,6,60,8],[37,7,60,9],[37,8,60,10],[37,15,60,17,"error"],[37,20,60,22],[37,22,60,24],[38,8,61,10,"console"],[38,15,61,17],[38,16,61,18,"error"],[38,21,61,23],[38,22,61,24],[38,36,61,38],[38,38,61,40,"error"],[38,43,61,45],[38,44,61,46],[39,8,62,10],[39,14,62,16,"error"],[39,19,62,21],[40,6,63,8],[41,4,64,6],[41,5,64,7],[42,4,66,6,"logout"],[42,10,66,12],[42,12,66,14,"logout"],[42,13,66,14],[42,18,66,20],[43,6,67,8,"set"],[43,9,67,11],[43,10,67,12],[44,8,68,10,"user"],[44,12,68,14],[44,14,68,16],[44,18,68,20],[45,8,69,10,"token"],[45,13,69,15],[45,15,69,17],[45,19,69,21],[46,8,70,10,"isAuthenticated"],[46,23,70,25],[46,25,70,27],[47,6,71,8],[47,7,71,9],[47,8,71,10],[48,6,72,8],[48,13,72,15,"axios"],[48,27,72,20],[48,28,72,21,"defaults"],[48,36,72,29],[48,37,72,30,"headers"],[48,44,72,37],[48,45,72,38,"common"],[48,51,72,44],[48,52,72,45],[48,67,72,60],[48,68,72,61],[49,4,73,6],[49,5,73,7],[50,4,75,6,"updateUser"],[50,14,75,16],[50,16,75,19,"user"],[50,20,75,29],[50,24,75,34],[51,6,76,8,"set"],[51,9,76,11],[51,10,76,12],[52,8,76,14,"user"],[53,6,76,19],[53,7,76,20],[53,8,76,21],[54,4,77,6],[55,2,78,4],[55,3,78,5],[55,4,78,6],[55,6,79,4],[56,4,80,6,"name"],[56,8,80,10],[56,10,80,12],[56,24,80,26],[57,4,81,6,"storage"],[57,11,81,13],[57,13,81,15,"zustandStorage"],[58,2,82,4],[58,3,83,2],[58,4,84,0],[58,5,84,1],[59,0,84,2],[59,3]],"functionMap":{"names":["<global>","createJSONStorage$argument_0","persist$argument_0","login","logout","updateUser"],"mappings":"AAA;yCCM,kBD;IE+B;aCK;ODqB;cEE;OFO;kBGE;OHE;MFC"}},"type":"js/module"}]}