{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"]}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":45,"index":79}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":80},"end":{"line":3,"column":69,"index":149}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":150},"end":{"line":4,"column":26,"index":176}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuthStore = void 0;\n  var _env2 = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _middleware = require(_dependencyMap[3], \"zustand/middleware\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[4], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[5], \"axios\"));\n  const BACKEND_URL = _env2.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const useAuthStore = exports.useAuthStore = (0, _zustand.create)()((0, _middleware.persist)((set, get) => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    login: async (username, password) => {\n      try {\n        const response = await _axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          user,\n          access_token: token\n        } = response.data;\n        set({\n          user,\n          token,\n          isAuthenticated: true\n        });\n\n        // Set default axios headers\n        _axios.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    },\n    logout: () => {\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n      delete _axios.default.defaults.headers.common['Authorization'];\n    },\n    updateUser: user => {\n      set({\n        user\n      });\n    }\n  }), {\n    name: 'auth-storage',\n    storage: {\n      getItem: name => {\n        const value = _asyncStorage.default.getItem(name);\n        return value;\n      },\n      setItem: (name, value) => {\n        _asyncStorage.default.setItem(name, value);\n      },\n      removeItem: name => {\n        _asyncStorage.default.removeItem(name);\n      }\n    }\n  }));\n});","lineCount":68,"map":[[8,2,1,0],[8,6,1,0,"_zustand"],[8,14,1,0],[8,17,1,0,"require"],[8,24,1,0],[8,25,1,0,"_dependencyMap"],[8,39,1,0],[9,2,2,0],[9,6,2,0,"_middleware"],[9,17,2,0],[9,20,2,0,"require"],[9,27,2,0],[9,28,2,0,"_dependencyMap"],[9,42,2,0],[10,2,3,0],[10,6,3,0,"_asyncStorage"],[10,19,3,0],[10,22,3,0,"_interopRequireDefault"],[10,44,3,0],[10,45,3,0,"require"],[10,52,3,0],[10,53,3,0,"_dependencyMap"],[10,67,3,0],[11,2,4,0],[11,6,4,0,"_axios"],[11,12,4,0],[11,15,4,0,"_interopRequireDefault"],[11,37,4,0],[11,38,4,0,"require"],[11,45,4,0],[11,46,4,0,"_dependencyMap"],[11,60,4,0],[12,2,31,0],[12,8,31,6,"BACKEND_URL"],[12,19,31,17],[12,22,31,20,"_env2"],[12,27,31,20],[12,28,31,20,"env"],[12,31,31,20],[12,32,31,20,"EXPO_PUBLIC_BACKEND_URL"],[12,55,31,20],[12,59,31,59],[12,61,31,61],[13,2,33,7],[13,8,33,13,"useAuthStore"],[13,20,33,25],[13,23,33,25,"exports"],[13,30,33,25],[13,31,33,25,"useAuthStore"],[13,43,33,25],[13,46,33,28],[13,50,33,28,"create"],[13,65,33,34],[13,67,33,46],[13,68,33,47],[13,69,34,2],[13,73,34,2,"persist"],[13,92,34,9],[13,94,35,4],[13,95,35,5,"set"],[13,98,35,8],[13,100,35,10,"get"],[13,103,35,13],[13,109,35,19],[14,4,36,6,"user"],[14,8,36,10],[14,10,36,12],[14,14,36,16],[15,4,37,6,"token"],[15,9,37,11],[15,11,37,13],[15,15,37,17],[16,4,38,6,"isAuthenticated"],[16,19,38,21],[16,21,38,23],[16,26,38,28],[17,4,40,6,"login"],[17,9,40,11],[17,11,40,13],[17,17,40,13,"login"],[17,18,40,20,"username"],[17,26,40,36],[17,28,40,38,"password"],[17,36,40,54],[17,41,40,59],[18,6,41,8],[18,10,41,12],[19,8,42,10],[19,14,42,16,"response"],[19,22,42,24],[19,25,42,27],[19,31,42,33,"axios"],[19,45,42,38],[19,46,42,39,"post"],[19,50,42,43],[19,51,42,44],[19,54,42,47,"BACKEND_URL"],[19,65,42,58],[19,82,42,75],[19,84,42,77],[20,10,43,12,"username"],[20,18,43,20],[21,10,44,12,"password"],[22,8,45,10],[22,9,45,11],[22,10,45,12],[23,8,47,10],[23,14,47,16],[24,10,47,18,"user"],[24,14,47,22],[25,10,47,24,"access_token"],[25,22,47,36],[25,24,47,38,"token"],[26,8,47,44],[26,9,47,45],[26,12,47,48,"response"],[26,20,47,56],[26,21,47,57,"data"],[26,25,47,61],[27,8,49,10,"set"],[27,11,49,13],[27,12,49,14],[28,10,50,12,"user"],[28,14,50,16],[29,10,51,12,"token"],[29,15,51,17],[30,10,52,12,"isAuthenticated"],[30,25,52,27],[30,27,52,29],[31,8,53,10],[31,9,53,11],[31,10,53,12],[33,8,55,10],[34,8,56,10,"axios"],[34,22,56,15],[34,23,56,16,"defaults"],[34,31,56,24],[34,32,56,25,"headers"],[34,39,56,32],[34,40,56,33,"common"],[34,46,56,39],[34,47,56,40],[34,62,56,55],[34,63,56,56],[34,66,56,59],[34,76,56,69,"token"],[34,81,56,74],[34,83,56,76],[35,6,57,8],[35,7,57,9],[35,8,57,10],[35,15,57,17,"error"],[35,20,57,22],[35,22,57,24],[36,8,58,10,"console"],[36,15,58,17],[36,16,58,18,"error"],[36,21,58,23],[36,22,58,24],[36,36,58,38],[36,38,58,40,"error"],[36,43,58,45],[36,44,58,46],[37,8,59,10],[37,14,59,16,"error"],[37,19,59,21],[38,6,60,8],[39,4,61,6],[39,5,61,7],[40,4,63,6,"logout"],[40,10,63,12],[40,12,63,14,"logout"],[40,13,63,14],[40,18,63,20],[41,6,64,8,"set"],[41,9,64,11],[41,10,64,12],[42,8,65,10,"user"],[42,12,65,14],[42,14,65,16],[42,18,65,20],[43,8,66,10,"token"],[43,13,66,15],[43,15,66,17],[43,19,66,21],[44,8,67,10,"isAuthenticated"],[44,23,67,25],[44,25,67,27],[45,6,68,8],[45,7,68,9],[45,8,68,10],[46,6,69,8],[46,13,69,15,"axios"],[46,27,69,20],[46,28,69,21,"defaults"],[46,36,69,29],[46,37,69,30,"headers"],[46,44,69,37],[46,45,69,38,"common"],[46,51,69,44],[46,52,69,45],[46,67,69,60],[46,68,69,61],[47,4,70,6],[47,5,70,7],[48,4,72,6,"updateUser"],[48,14,72,16],[48,16,72,19,"user"],[48,20,72,29],[48,24,72,34],[49,6,73,8,"set"],[49,9,73,11],[49,10,73,12],[50,8,73,14,"user"],[51,6,73,19],[51,7,73,20],[51,8,73,21],[52,4,74,6],[53,2,75,4],[53,3,75,5],[53,4,75,6],[53,6,76,4],[54,4,77,6,"name"],[54,8,77,10],[54,10,77,12],[54,24,77,26],[55,4,78,6,"storage"],[55,11,78,13],[55,13,78,15],[56,6,79,8,"getItem"],[56,13,79,15],[56,15,79,18,"name"],[56,19,79,22],[56,23,79,27],[57,8,80,10],[57,14,80,16,"value"],[57,19,80,21],[57,22,80,24,"AsyncStorage"],[57,43,80,36],[57,44,80,37,"getItem"],[57,51,80,44],[57,52,80,45,"name"],[57,56,80,49],[57,57,80,50],[58,8,81,10],[58,15,81,17,"value"],[58,20,81,22],[59,6,82,8],[59,7,82,9],[60,6,83,8,"setItem"],[60,13,83,15],[60,15,83,17,"setItem"],[60,16,83,18,"name"],[60,20,83,22],[60,22,83,24,"value"],[60,27,83,29],[60,32,83,34],[61,8,84,10,"AsyncStorage"],[61,29,84,22],[61,30,84,23,"setItem"],[61,37,84,30],[61,38,84,31,"name"],[61,42,84,35],[61,44,84,37,"value"],[61,49,84,42],[61,50,84,43],[62,6,85,8],[62,7,85,9],[63,6,86,8,"removeItem"],[63,16,86,18],[63,18,86,21,"name"],[63,22,86,25],[63,26,86,30],[64,8,87,10,"AsyncStorage"],[64,29,87,22],[64,30,87,23,"removeItem"],[64,40,87,33],[64,41,87,34,"name"],[64,45,87,38],[64,46,87,39],[65,6,88,8],[66,4,89,6],[67,2,90,4],[67,3,91,2],[67,4,92,0],[67,5,92,1],[68,0,92,2],[68,3]],"functionMap":{"names":["<global>","persist$argument_0","login","logout","updateUser","persist$argument_1.storage.getItem","persist$argument_1.storage.setItem","persist$argument_1.storage.removeItem"],"mappings":"AAA;ICkC;aCK;ODqB;cEE;OFO;kBGE;OHE;MDC;iBKI;SLG;iBMC;SNE;oBOC;SPE"}},"type":"js/module"}]}