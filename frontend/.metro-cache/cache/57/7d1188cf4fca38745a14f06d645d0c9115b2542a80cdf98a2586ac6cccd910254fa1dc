{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"]}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":26,"index":195}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuthStore = void 0;\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _middleware = require(_dependencyMap[2], \"zustand/middleware\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[3], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[4], \"axios\"));\n  // Configuration simple du stockage\n  const zustandStorage = (0, _middleware.createJSONStorage)(() => _asyncStorage.default);\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const useAuthStore = exports.useAuthStore = (0, _zustand.create)()((0, _middleware.persist)((set, get) => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    login: async (username, password) => {\n      try {\n        const response = await _axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          user,\n          token\n        } = response.data;\n        set({\n          user,\n          token,\n          isAuthenticated: true\n        });\n\n        // Set default axios headers\n        _axios.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    },\n    logout: () => {\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n      delete _axios.default.defaults.headers.common['Authorization'];\n    },\n    updateUser: user => {\n      set({\n        user\n      });\n    }\n  }), {\n    name: 'auth-storage',\n    storage: zustandStorage\n  }));\n});","lineCount":58,"map":[[7,2,1,0],[7,6,1,0,"_zustand"],[7,14,1,0],[7,17,1,0,"require"],[7,24,1,0],[7,25,1,0,"_dependencyMap"],[7,39,1,0],[8,2,2,0],[8,6,2,0,"_middleware"],[8,17,2,0],[8,20,2,0,"require"],[8,27,2,0],[8,28,2,0,"_dependencyMap"],[8,42,2,0],[9,2,3,0],[9,6,3,0,"_asyncStorage"],[9,19,3,0],[9,22,3,0,"_interopRequireDefault"],[9,44,3,0],[9,45,3,0,"require"],[9,52,3,0],[9,53,3,0,"_dependencyMap"],[9,67,3,0],[10,2,4,0],[10,6,4,0,"_axios"],[10,12,4,0],[10,15,4,0,"_interopRequireDefault"],[10,37,4,0],[10,38,4,0,"require"],[10,45,4,0],[10,46,4,0,"_dependencyMap"],[10,60,4,0],[11,2,6,0],[12,2,7,0],[12,8,7,6,"zustandStorage"],[12,22,7,20],[12,25,7,23],[12,29,7,23,"createJSONStorage"],[12,58,7,40],[12,60,7,41],[12,66,7,47,"AsyncStorage"],[12,87,7,59],[12,88,7,60],[13,2,34,0],[13,8,34,6,"BACKEND_URL"],[13,19,34,17],[13,22,34,20,"process"],[13,29,34,27],[13,30,34,28,"env"],[13,33,34,31],[13,34,34,32,"EXPO_PUBLIC_BACKEND_URL"],[13,57,34,55],[13,61,34,59],[13,63,34,61],[14,2,36,7],[14,8,36,13,"useAuthStore"],[14,20,36,25],[14,23,36,25,"exports"],[14,30,36,25],[14,31,36,25,"useAuthStore"],[14,43,36,25],[14,46,36,28],[14,50,36,28,"create"],[14,65,36,34],[14,67,36,46],[14,68,36,47],[14,69,37,2],[14,73,37,2,"persist"],[14,92,37,9],[14,94,38,4],[14,95,38,5,"set"],[14,98,38,8],[14,100,38,10,"get"],[14,103,38,13],[14,109,38,19],[15,4,39,6,"user"],[15,8,39,10],[15,10,39,12],[15,14,39,16],[16,4,40,6,"token"],[16,9,40,11],[16,11,40,13],[16,15,40,17],[17,4,41,6,"isAuthenticated"],[17,19,41,21],[17,21,41,23],[17,26,41,28],[18,4,43,6,"login"],[18,9,43,11],[18,11,43,13],[18,17,43,13,"login"],[18,18,43,20,"username"],[18,26,43,36],[18,28,43,38,"password"],[18,36,43,54],[18,41,43,59],[19,6,44,8],[19,10,44,12],[20,8,45,10],[20,14,45,16,"response"],[20,22,45,24],[20,25,45,27],[20,31,45,33,"axios"],[20,45,45,38],[20,46,45,39,"post"],[20,50,45,43],[20,51,45,44],[20,54,45,47,"BACKEND_URL"],[20,65,45,58],[20,82,45,75],[20,84,45,77],[21,10,46,12,"username"],[21,18,46,20],[22,10,47,12,"password"],[23,8,48,10],[23,9,48,11],[23,10,48,12],[24,8,50,10],[24,14,50,16],[25,10,50,18,"user"],[25,14,50,22],[26,10,50,24,"token"],[27,8,50,30],[27,9,50,31],[27,12,50,34,"response"],[27,20,50,42],[27,21,50,43,"data"],[27,25,50,47],[28,8,52,10,"set"],[28,11,52,13],[28,12,52,14],[29,10,53,12,"user"],[29,14,53,16],[30,10,54,12,"token"],[30,15,54,17],[31,10,55,12,"isAuthenticated"],[31,25,55,27],[31,27,55,29],[32,8,56,10],[32,9,56,11],[32,10,56,12],[34,8,58,10],[35,8,59,10,"axios"],[35,22,59,15],[35,23,59,16,"defaults"],[35,31,59,24],[35,32,59,25,"headers"],[35,39,59,32],[35,40,59,33,"common"],[35,46,59,39],[35,47,59,40],[35,62,59,55],[35,63,59,56],[35,66,59,59],[35,76,59,69,"token"],[35,81,59,74],[35,83,59,76],[36,6,60,8],[36,7,60,9],[36,8,60,10],[36,15,60,17,"error"],[36,20,60,22],[36,22,60,24],[37,8,61,10,"console"],[37,15,61,17],[37,16,61,18,"error"],[37,21,61,23],[37,22,61,24],[37,36,61,38],[37,38,61,40,"error"],[37,43,61,45],[37,44,61,46],[38,8,62,10],[38,14,62,16,"error"],[38,19,62,21],[39,6,63,8],[40,4,64,6],[40,5,64,7],[41,4,66,6,"logout"],[41,10,66,12],[41,12,66,14,"logout"],[41,13,66,14],[41,18,66,20],[42,6,67,8,"set"],[42,9,67,11],[42,10,67,12],[43,8,68,10,"user"],[43,12,68,14],[43,14,68,16],[43,18,68,20],[44,8,69,10,"token"],[44,13,69,15],[44,15,69,17],[44,19,69,21],[45,8,70,10,"isAuthenticated"],[45,23,70,25],[45,25,70,27],[46,6,71,8],[46,7,71,9],[46,8,71,10],[47,6,72,8],[47,13,72,15,"axios"],[47,27,72,20],[47,28,72,21,"defaults"],[47,36,72,29],[47,37,72,30,"headers"],[47,44,72,37],[47,45,72,38,"common"],[47,51,72,44],[47,52,72,45],[47,67,72,60],[47,68,72,61],[48,4,73,6],[48,5,73,7],[49,4,75,6,"updateUser"],[49,14,75,16],[49,16,75,19,"user"],[49,20,75,29],[49,24,75,34],[50,6,76,8,"set"],[50,9,76,11],[50,10,76,12],[51,8,76,14,"user"],[52,6,76,19],[52,7,76,20],[52,8,76,21],[53,4,77,6],[54,2,78,4],[54,3,78,5],[54,4,78,6],[54,6,79,4],[55,4,80,6,"name"],[55,8,80,10],[55,10,80,12],[55,24,80,26],[56,4,81,6,"storage"],[56,11,81,13],[56,13,81,15,"zustandStorage"],[57,2,82,4],[57,3,83,2],[57,4,84,0],[57,5,84,1],[58,0,84,2],[58,3]],"functionMap":{"names":["<global>","createJSONStorage$argument_0","persist$argument_0","login","logout","updateUser"],"mappings":"AAA;yCCM,kBD;IE+B;aCK;ODqB;cEE;OFO;kBGE;OHE;MFC"}},"type":"js/module"}]}